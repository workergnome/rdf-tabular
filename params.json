{"name":"Rdf-tabular","tagline":"Tabular Data RDF Reader and JSON serializer","body":"# Tabular Data RDF Reader and JSON serializer\r\n\r\n[CSV][] reader for [RDF.rb][] and fully JSON serializer.\r\n\r\n[![Gem Version](https://badge.fury.io/rb/rdf-tabular.png)](http://badge.fury.io/rb/rdf-tabular)\r\n[![Build Status](https://secure.travis-ci.org/ruby-rdf/rdf-tabular.png?branch=master)](http://travis-ci.org/ruby-rdf/rdf-tabular)\r\n\r\n## Features\r\n\r\nRDF::Tabular parses CSV or other Tabular Data into [RDF][] and JSON using the [W3C CSVW][] specifications, currently undergoing development.\r\n\r\nInstall with `gem install rdf-tabular`\r\n\r\nRDF::Tabular parses CSVs, TSVs, and potentially other tabular data formats. Using rules defined for [W3C CSVW][], it can also parse metadata files (in JSON-LD format) to find a set of tabular data files, or locate a metadata file given a CSV:\r\n\r\n* Given a CSV `http://example.org/mycsv.csv` look for `http://example.org/mycsv.csv-metata.json` or `http://example.org/metadata.json`. Metadata can also be specified using the `describedby` link header to reference a metadata file.\r\n* Given a metadata file, locate one or more CSV files described within the metadata file.\r\n* Also, extract _embedded metadata_ from the CSV (limited to column titles right now).\r\n\r\nMetadata can then provide datatypes for the columns, express foreign key relationships, and associate subjects and predicates with columns. An example [metadata file for the project DOAP description](https://raw.githubusercontent.com/ruby-rdf/rdf-tabular/develop/etc/doap.csv-metadata.json) is:\r\n\r\n    {\r\n      \"@context\": \"http://www.w3.org/ns/csvw\",\r\n      \"url\": \"doap.csv\",\r\n      \"tableSchema\": {\r\n        \"aboutUrl\": \"http://rubygems.org/gems/rdf-tabular\",\r\n        \"propertyUrl\": \"http://usefulinc.com/ns/doap#{_name}\",\r\n        \"null\": \"\",\r\n        \"columns\": [\r\n          {\"titles\": \"name\"},\r\n          {\"titles\": \"type\", \"propertyUrl\": \"rdf:type\", \"valueUrl\": \"{+type}\"},\r\n          {\"titles\": \"homepage\", \"valueUrl\": \"{+homepage}\"},\r\n          {\"titles\": \"license\", \"valueUrl\": \"{+license}\"},\r\n          {\"titles\": \"shortdesc\", \"lang\": \"en\"},\r\n          {\"titles\": \"description\", \"lang\": \"en\"},\r\n          {\"titles\": \"created\", \"datatype\": {\"base\": \"date\", \"format\": \"M/d/yyyy\"}},\r\n          {\"titles\": \"programming_language\", \"propertyUrl\": \"http://usefulinc.com/ns/doap#programming-language\"},\r\n          {\"titles\": \"implements\", \"valueUrl\": \"{+implements}\"},\r\n          {\"titles\": \"category\", \"valueUrl\": \"{+category}\"},\r\n          {\"titles\": \"download_page\", \"propertyUrl\": \"http://usefulinc.com/ns/doap#download-page\", \"valueUrl\": \"{+download_page}\"},\r\n          {\"titles\": \"mailing_list\", \"propertyUrl\": \"http://usefulinc.com/ns/doap#mailing-list\", \"valueUrl\": \"{+mailing_list}\"},\r\n          {\"titles\": \"bug_database\", \"propertyUrl\": \"http://usefulinc.com/ns/doap#bug-database\", \"valueUrl\": \"{+bug_database}\"},\r\n          {\"titles\": \"blog\", \"valueUrl\": \"{+blog}\"},\r\n          {\"titles\": \"developer\", \"valueUrl\": \"{+developer}\"},\r\n          {\"titles\": \"maintainer\", \"valueUrl\": \"{+maintainer}\"},\r\n          {\"titles\": \"documenter\", \"valueUrl\": \"{+documenter}\"},\r\n          {\"titles\": \"maker\", \"propertyUrl\": \"foaf:maker\", \"valueUrl\": \"{+maker}\"},\r\n          {\"titles\": \"dc_title\", \"propertyUrl\": \"dc:title\"},\r\n          {\"titles\": \"dc_description\", \"propertyUrl\": \"dc:description\", \"lang\": \"en\"},\r\n          {\"titles\": \"dc_date\", \"propertyUrl\": \"dc:date\", \"datatype\": {\"base\": \"date\", \"format\": \"M/d/yyyy\"}},\r\n          {\"titles\": \"dc_creator\", \"propertyUrl\": \"dc:creator\", \"valueUrl\": \"{+dc_creator}\"},\r\n          {\"titles\": \"isPartOf\", \"propertyUrl\": \"dc:isPartOf\", \"valueUrl\": \"{+isPartOf}\"}\r\n        ]\r\n      }\r\n    }\r\n\r\nThis associates the metadata with the CSV [doap.csv](https://raw.githubusercontent.com/ruby-rdf/rdf-tabular/develop/etc/doap.csv), creates a common subject for all rows in the file, and a common predicate using the URI Template [URI Template](https://tools.ietf.org/html/rfc6570) `http://usefulinc.com/ns/doap#\\{_name\\}` which uses the `name` of each column (defaulted from `titles`) to construct a URI in the DOAP vocabulary, and constructs object URIs for object-valued properties from the contents of the column cells. In some cases, the predicates are changed on a per-column basis by using a different `propertyUrl` property on a given column.\r\n\r\nThis results in the following Turtle:\r\n\r\n    @prefix csvw: <http://www.w3.org/ns/csvw#> .\r\n    @prefix dc: <http://purl.org/dc/terms/> .\r\n    @prefix doap: <http://usefulinc.com/ns/doap#> .\r\n    @prefix foaf: <http://xmlns.com/foaf/0.1/> .\r\n    @prefix prov: <http://www.w3.org/ns/prov#> .\r\n    @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n    @prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\r\n\r\n    <http://rubygems.org/gems/rdf-tabular> a doap:Project,\r\n         <http://www.w3.org/ns/earl#TestSubject>,\r\n         <http://www.w3.org/ns/earl#Software>;\r\n       dc:title \"RDF::Tabular\";\r\n       dc:creator <http://greggkellogg.net/foaf#me>;\r\n       dc:date \"2015-01-05\"^^xsd:date;\r\n       dc:description \"RDF::Tabular processes tabular data with metadata creating RDF or JSON output.\"@en;\r\n       dc:isPartOf <http://rubygems.org/gems/rdf>;\r\n       doap:blog <http://greggkellogg.net/>;\r\n       doap:bug-database <http://github.com/ruby-rdf/rdf-tabular/issues>;\r\n       doap:category <http://dbpedia.org/resource/Resource_Description_Framework>,\r\n         <http://dbpedia.org/resource/Ruby_(programming_language)>;\r\n       doap:created \"2015-01-05\"^^xsd:date;\r\n       doap:description \"RDF::Tabular processes tabular data with metadata creating RDF or JSON output.\"@en;\r\n       doap:developer <http://greggkellogg.net/foaf#me>;\r\n       doap:documenter <http://greggkellogg.net/foaf#me>;\r\n       doap:download-page <http://rubygems.org/gems/rdf-tabular>;\r\n       doap:homepage <http://ruby-rdf.github.com/rdf-tabular>;\r\n       doap:implements <http://www.w3.org/TR/tabular-data-model/>,\r\n         <http://www.w3.org/TR/tabular-metadata/>,\r\n         <http://www.w3.org/TR/csv2rdf/>,\r\n         <http://www.w3.org/TR/csv2json/>;\r\n       doap:license <http://creativecommons.org/licenses/publicdomain/>;\r\n       doap:mailing-list <http://lists.w3.org/Archives/Public/public-rdf-ruby/>;\r\n       doap:maintainer <http://greggkellogg.net/foaf#me>;\r\n       doap:name \"RDF::Tabular\";\r\n       doap:programming-language \"Ruby\";\r\n       doap:shortdesc \"Tabular Data RDF Reader and JSON serializer.\"@en;\r\n       foaf:maker <http://greggkellogg.net/foaf#me> .\r\n\r\n     [\r\n        a csvw:TableGroup;\r\n        csvw:table [\r\n          a csvw:Table;\r\n          csvw:row [\r\n            a csvw:Row;\r\n            csvw:describes <http://rubygems.org/gems/rdf-tabular>;\r\n            csvw:rownum 1;\r\n            csvw:url <file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=2>\r\n          ],  [\r\n            a csvw:Row;\r\n            csvw:describes <http://rubygems.org/gems/rdf-tabular>;\r\n            csvw:rownum 2;\r\n            csvw:url <file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=3>\r\n          ],  [\r\n            a csvw:Row;\r\n            csvw:describes <http://rubygems.org/gems/rdf-tabular>;\r\n            csvw:rownum 3;\r\n            csvw:url <file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=4>\r\n          ],  [\r\n            a csvw:Row;\r\n            csvw:describes <http://rubygems.org/gems/rdf-tabular>;\r\n            csvw:rownum 4;\r\n            csvw:url <file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=5>\r\n          ];\r\n          csvw:url <file://users/gregg/Projects/rdf-tabular/etc/doap.csv>\r\n        ];\r\n        prov:wasGeneratedBy [\r\n          a prov:Activity;\r\n          prov:endedAtTime \"2015-04-11T12:33:26Z\"^^xsd:dateTime;\r\n          prov:qualifiedUsage [\r\n            a prov:Usage;\r\n            prov:entity <file://users/gregg/Projects/rdf-tabular/etc/doap.csv>;\r\n            prov:hadRole csvw:csvEncodedTabularData\r\n          ],  [\r\n            a prov:Usage;\r\n            prov:entity <file://users/gregg/Projects/rdf-tabular/etc/doap.csv-metadata.json>;\r\n            prov:hadRole csvw:tabularMetadata\r\n          ];\r\n          prov:startedAtTime \"2015-04-11T12:33:25Z\"^^xsd:dateTime;\r\n          prov:wasAssociatedWith <http://rubygems.org/gems/rdf-tabular>\r\n        ]\r\n     ] .\r\n\r\nThe provenance on table-source information can be excluded by using the `:minimal` option to the reader.\r\n\r\nIt can also generate JSON output (not complete JSON-LD, but compatible with it), using the {RDF::Tabular::Reader#to_json} method:\r\n\r\n    {\r\n      \"table\": [\r\n        {\r\n          \"url\": \"file://users/gregg/Projects/rdf-tabular/etc/doap.csv\",\r\n          \"row\": [\r\n            {\r\n              \"url\": \"file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=2\",\r\n              \"rownum\": 1,\r\n              \"describes\": [\r\n                {\r\n                  \"@id\": \"http://rubygems.org/gems/rdf-tabular\",\r\n                  \"http://usefulinc.com/ns/doap#name\": \"RDF::Tabular\",\r\n                  \"@type\": \"http://usefulinc.com/ns/doap#Project\",\r\n                  \"http://usefulinc.com/ns/doap#homepage\": \"http://ruby-rdf.github.com/rdf-tabular\",\r\n                  \"http://usefulinc.com/ns/doap#license\": \"http://creativecommons.org/licenses/publicdomain/\",\r\n                  \"http://usefulinc.com/ns/doap#shortdesc\": \"Tabular Data RDF Reader and JSON serializer.\",\r\n                  \"http://usefulinc.com/ns/doap#description\": \"RDF::Tabular processes tabular data with metadata creating RDF or JSON output.\",\r\n                  \"http://usefulinc.com/ns/doap#created\": \"2015-01-05\",\r\n                  \"http://usefulinc.com/ns/doap#programming-language\": \"Ruby\",\r\n                  \"http://usefulinc.com/ns/doap#implements\": \"http://www.w3.org/TR/tabular-data-model/\",\r\n                  \"http://usefulinc.com/ns/doap#category\": \"http://dbpedia.org/resource/Resource_Description_Framework\",\r\n                  \"http://usefulinc.com/ns/doap#download-page\": \"http://rubygems.org/gems/rdf-tabular\",\r\n                  \"http://usefulinc.com/ns/doap#mailing-list\": \"http://lists.w3.org/Archives/Public/public-rdf-ruby/\",\r\n                  \"http://usefulinc.com/ns/doap#bug-database\": \"http://github.com/ruby-rdf/rdf-tabular/issues\",\r\n                  \"http://usefulinc.com/ns/doap#blog\": \"http://greggkellogg.net/\",\r\n                  \"http://usefulinc.com/ns/doap#developer\": \"http://greggkellogg.net/foaf#me\",\r\n                  \"http://usefulinc.com/ns/doap#maintainer\": \"http://greggkellogg.net/foaf#me\",\r\n                  \"http://usefulinc.com/ns/doap#documenter\": \"http://greggkellogg.net/foaf#me\",\r\n                  \"foaf:maker\": \"http://greggkellogg.net/foaf#me\",\r\n                  \"dc:title\": \"RDF::Tabular\",\r\n                  \"dc:description\": \"RDF::Tabular processes tabular data with metadata creating RDF or JSON output.\",\r\n                  \"dc:date\": \"2015-01-05\",\r\n                  \"dc:creator\": \"http://greggkellogg.net/foaf#me\",\r\n                  \"dc:isPartOf\": \"http://rubygems.org/gems/rdf\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"url\": \"file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=3\",\r\n              \"rownum\": 2,\r\n              \"describes\": [\r\n                {\r\n                  \"@id\": \"http://rubygems.org/gems/rdf-tabular\",\r\n                  \"@type\": \"http://www.w3.org/ns/earl#TestSubject\",\r\n                  \"http://usefulinc.com/ns/doap#implements\": \"http://www.w3.org/TR/tabular-metadata/\",\r\n                  \"http://usefulinc.com/ns/doap#category\": \"http://dbpedia.org/resource/Ruby_(programming_language)\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"url\": \"file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=4\",\r\n              \"rownum\": 3,\r\n              \"describes\": [\r\n                {\r\n                  \"@id\": \"http://rubygems.org/gems/rdf-tabular\",\r\n                  \"@type\": \"http://www.w3.org/ns/earl#Software\",\r\n                  \"http://usefulinc.com/ns/doap#implements\": \"http://www.w3.org/TR/csv2rdf/\"\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"url\": \"file://users/gregg/Projects/rdf-tabular/etc/doap.csv#row=5\",\r\n              \"rownum\": 4,\r\n              \"describes\": [\r\n                {\r\n                  \"@id\": \"http://rubygems.org/gems/rdf-tabular\",\r\n                  \"http://usefulinc.com/ns/doap#implements\": \"http://www.w3.org/TR/csv2json/\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\n## Examples\r\n\r\n    require 'rubygems'\r\n    require 'rdf/tabular'\r\n\r\n## RDF Reader\r\nRDF::Tabular also acts as a normal RDF reader, using the standard RDF.rb Reader interface:\r\n\r\n    graph = RDF::Graph.load(\"etc/doap.csv\", minimal: true)\r\n\r\n## Documentation\r\nFull documentation available on [RubyDoc](http://rubydoc.info/gems/rdf-tabular/file/README.md)\r\n\r\n### Principal Classes\r\n* {RDF::Tabular}\r\n  * {RDF::Tabular::JSON}\r\n  * {RDF::Tabular::Format}\r\n  * {RDF::Tabular::Metadata}\r\n  * {RDF::Tabular::Reader}\r\n\r\n## Dependencies\r\n* [Ruby](http://ruby-lang.org/) (>= 2.0.0)\r\n* [RDF.rb](http://rubygems.org/gems/rdf) (>= 1.0)\r\n* [JSON](https://rubygems.org/gems/json) (>= 1.5)\r\n\r\n## Installation\r\nThe recommended installation method is via [RubyGems](http://rubygems.org/).\r\nTo install the latest official release of the `RDF::Tabular` gem, do:\r\n\r\n    % [sudo] gem install rdf-tabular\r\n\r\n## Mailing List\r\n* <http://lists.w3.org/Archives/Public/public-rdf-ruby/>\r\n\r\n## Author\r\n* [Gregg Kellogg](http://github.com/gkellogg) - <http://greggkellogg.net/>\r\n\r\n## Contributing\r\n* Do your best to adhere to the existing coding conventions and idioms.\r\n* Don't use hard tabs, and don't leave trailing whitespace on any line.\r\n* Do document every method you add using [YARD][] annotations. Read the\r\n  [tutorial][YARD-GS] or just look at the existing code for examples.\r\n* Don't touch the `rdf-tabular.gemspec`, `VERSION` or `AUTHORS` files. If you need to change them, do so on your private branch only.\r\n* Do feel free to add yourself to the `CREDITS` file and the corresponding list in the the `README`. Alphabetical order applies.\r\n* Do note that in order for us to merge any non-trivial changes (as a rule of thumb, additions larger than about 15 lines of code), we need an explicit [public domain dedication][PDD] on record from you.\r\n\r\nLicense\r\n-------\r\n\r\nThis is free and unencumbered public domain software. For more information,\r\nsee <http://unlicense.org/> or the accompanying {file:UNLICENSE} file.\r\n\r\n[Ruby]:             http://ruby-lang.org/\r\n[RDF]:              http://www.w3.org/RDF/\r\n[YARD]:             http://yardoc.org/\r\n[YARD-GS]:          http://rubydoc.info/docs/yard/file/docs/GettingStarted.md\r\n[PDD]:              http://lists.w3.org/Archives/Public/public-rdf-ruby/2010May/0013.html\r\n[RDF.rb]:           http://rubygems.org/gems/rdf\r\n[CSV]:              http://en.wikipedia.org/wiki/Comma-separated_values\r\n[W3C CSVW]:         http://www.w3.org/2013/csvw/wiki/Main_Page\r\n[URI template]:     https://tools.ietf.org/html/rfc6570","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}